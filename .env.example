# .env.example
# Plantilla de configuración de variables de entorno
# Copia este archivo a .env y personaliza los valores según tu entorno

# -------------------------------------------------------
# Configuración del entorno
# -------------------------------------------------------
# Entorno de ejecución: development, production, test
NODE_ENV=development

# -------------------------------------------------------
# Configuración del servidor
# -------------------------------------------------------
# Puerto en el que se ejecutará el servidor
PORT=4000
# Hostname del servidor
HOST=localhost
# URL base para el servidor (usado en links y redirecciones)
BASE_URL=http://localhost:4000
# Habilitar CORS (Cross-Origin Resource Sharing)
CORS_ENABLED=true
# Orígenes permitidos para CORS (separados por comas, * para permitir todos)
CORS_ORIGINS=*
# Confiar en proxy para IPs de clientes (útil detrás de reverse proxy)
TRUST_PROXY=false
# Timeout para peticiones en milisegundos
REQUEST_TIMEOUT=60000
# Límite de tamaño para el cuerpo de las peticiones
BODY_LIMIT=10mb

# -------------------------------------------------------
# Configuración de MongoDB
# -------------------------------------------------------
# URI de conexión a MongoDB
MONGODB_URI=mongodb://localhost:27017/electric-balance
# Nombre de la base de datos
MONGODB_DB_NAME=electric-balance
# Usuario para autenticación en MongoDB (opcional)
MONGODB_USER=
# Contraseña para autenticación en MongoDB (opcional)
MONGODB_PASSWORD=
# Base de datos para autenticación
MONGODB_AUTH_SOURCE=admin
# Tamaño máximo del pool de conexiones
MONGODB_POOL_SIZE=10
# Timeout para selección de servidor en milisegundos
MONGODB_TIMEOUT=30000
# Timeout para operaciones de socket en milisegundos
MONGODB_SOCKET_TIMEOUT=45000
# Familia IP (4 para IPv4, 6 para IPv6)
MONGODB_IP_FAMILY=4

# -------------------------------------------------------
# Configuración de la API de REE
# -------------------------------------------------------
# URL base de la API de REE
REE_API_BASE_URL=https://apidatos.ree.es
# Timeout para peticiones a la API de REE en milisegundos
REE_API_TIMEOUT=10000
# Número de intentos de reintento en caso de fallo
REE_API_RETRY_ATTEMPTS=3
# Retraso base entre reintentos en milisegundos
REE_API_RETRY_DELAY=1000
# Headers adicionales para la API (formato JSON)
REE_API_HEADERS={}

# -------------------------------------------------------
# Configuración de tareas programadas
# -------------------------------------------------------
# Habilitar ejecución de tareas programadas
SCHEDULED_TASKS_ENABLED=true
# Zona horaria para la programación de tareas
SCHEDULED_TASKS_TIMEZONE=Europe/Madrid
# Expresión cron para obtención de datos horarios
HOURLY_FETCH_CRON=0 */1 * * *
# Expresión cron para obtención de datos diarios
DAILY_FETCH_CRON=0 4 * * *
# Expresión cron para obtención de datos mensuales
MONTHLY_FETCH_CRON=0 5 1 * *
# Habilitar obtención inicial de datos históricos al iniciar
INITIAL_FETCH_ENABLED=true
# Días de historia para datos horarios
HISTORICAL_HOURS_DAYS=2
# Días de historia para datos diarios
HISTORICAL_DAYS_DAYS=60
# Días de historia para datos mensuales
HISTORICAL_MONTHS_DAYS=365
# Días de historia para datos anuales
HISTORICAL_YEARS_DAYS=1825

# -------------------------------------------------------
# Configuración de GraphQL
# -------------------------------------------------------
# Ruta para el endpoint de GraphQL
GRAPHQL_PATH=/graphql
# Habilitar introspección (útil para herramientas como GraphiQL)
GRAPHQL_INTROSPECTION=true
# Habilitar playground de GraphQL
GRAPHQL_PLAYGROUND=true
# Habilitar modo debug de GraphQL
GRAPHQL_DEBUG=true
# Habilitar tracing de GraphQL
GRAPHQL_TRACING=false
# Profundidad máxima de las queries de GraphQL
GRAPHQL_MAX_DEPTH=10
# Complejidad máxima de las queries de GraphQL
GRAPHQL_MAX_COMPLEXITY=1000

# -------------------------------------------------------
# Configuración de Apollo Server
# -------------------------------------------------------
# Habilitar reporting a Apollo Studio
APOLLO_REPORTING_ENABLED=false
# Referencia de gráfico para Apollo Studio
APOLLO_GRAPH_REF=
# Clave de API para Apollo Studio
APOLLO_KEY=

# -------------------------------------------------------
# Configuración de logging
# -------------------------------------------------------
# Nivel de logging: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info
# Habilitar formato legible para humanos en lugar de JSON
LOG_PRETTY_PRINT=true
# Habilitar logging a consola
LOG_ENABLE_CONSOLE=true
# Habilitar logging a archivo
LOG_ENABLE_FILE=false
# Ruta del archivo de log
LOG_FILE_PATH=./logs/app.log
# Rutas a excluir del logging (separadas por comas)
LOG_EXCLUDE_PATHS=/health,/metrics,/favicon.ico

# -------------------------------------------------------
# Configuración de caché
# -------------------------------------------------------
# Habilitar caché
CACHE_ENABLED=true
# Tiempo de vida de la caché en segundos
CACHE_TTL=300
# Número máximo de elementos en caché
CACHE_MAX_ITEMS=1000

# -------------------------------------------------------
# Configuración de seguridad (para implementación futura)
# -------------------------------------------------------
# Secreto para firmar tokens JWT (cambiar en producción)
JWT_SECRET=change_this_to_a_secure_secret_in_production
# Tiempo de expiración de tokens JWT
JWT_EXPIRATION=24h
# Clave de API para acceso administrativo
ADMIN_API_KEY=change_this_to_a_secure_key_in_production
